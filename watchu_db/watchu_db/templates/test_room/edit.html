{% extends 'base.html' %}
{% block content %}

<h2 class="border-bottom px-3 py-3">시험 번호 : {{ test_room_id }}</h2>

<div class="container mt-5 ml-5 float-left" style="width: 500px;">
    <h3 class="border-bottom py-2">시험 시간 설정</h3>
    <form>
        <input type="date" id="dateForm" value='{{ date }}'>
        <input type="time" id="starttimeForm" value='{{ start_time }}'>
        ~
        <input type="time" id="endtimeForm" value='{{ end_time }}'>
    </form>
</div>

<div class="container mt-5 ml-5 float-left" style="width: 500px;">
    <h3 class="border-bottom py-2">차단 프로그램 등록</h3>
    <form action="" onsubmit="return addProgram();">
        <input type="text" class="form-control addProgramValue" placeholder="프로그램이름.exe">
    </form>
    <h3 class="border-bottom py-2 mt-5">차단 프로그램 리스트</h3>
    <ul class="list-group ProgramList" id="plist">
        {% for b in block_list %}
        <li>{{ b }}</li>
        {% endfor %}
    </ul>
</div>


<div class="container mt-5 ml-5 float-left" style="width: 500px;">
    <h3 class="border-bottom py-2">학생 등록</h3>
    <form enctype="multipart/form-data">
        <ul class="list-group mb-3">
            <li class="list-group-item">학생 사진을 등록하십시오.</li>
            <li class="list-group-item">파일 이름을 학번으로 설정하십시오.</li>
        </ul>
        <div class="custom-file">
            <input type="file" class="custom-file-input" id="input_images" name="images[]" multiple>
            <label class="custom-file-label" data-browse="Browse">Upload one or more files</label>
        </div>
    </form>
    <h3 class="border-bottom py-2 mt-5">학생 사진 리스트</h3>
    <div id="image_list"></div>
</div>

<button class="btn btn-primary btn-lg" id="makeTestRoomBtn" style="position: fixed; bottom: 5%; right: 2%;">시험 생성</button>


<div class="container mt-5 pt-5" style="width: 500px;">
    <p>{{ test_room_id }}</p>
    <p>{{ date }}</p>
    <p>{{ start_time }}</p>
    <p>{{ end_time }}</p>
    {% for b in block_list %}
    <p>{{ b }}</p>
    {% endfor %}
    {% for img in imageBuffer %}
    <img src=img>
    {% endfor %}
</div>

<script>
    let block_lit = [];
    '{% for b in block_list %}'
    block_lit.push(b)
    '{% endfor %}'
    console.log(block_lit);
    let imageBuffer = '{{ imageBuffer }}';
    console.log(imageBuffer.length)
    for ( let i = 0; i < imageBuffer.length; i++) {
        let img = document.createElement('img');
        console.log(imageBuffer[i].filename);
        // img.src = URL.createObjectURL(imageBuffer[i]);
        // document.getElementsByClassName('div').appendChild(img);
    }
</script>

{% endblock %}